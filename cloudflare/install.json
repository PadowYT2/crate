{
  "resources": {
    "body": [{
      "type": "script",
      "src": "./src/app.js"
    }]
  },
  "preview": {
    "handlers": [{
      "options": ["_default"],
      "execute": "INSTALL_SCOPE.setOptions(INSTALL_OPTIONS)"
    }]
  },
  "options": {
    "properties": {
      "tier": {
        "title": "WidgetBot tier",
        "type": "string",
        "enum": ["free", "patreon", "ultimate"],
        "enumNames": {
          "free": "Free",
          "patreon": "Patreon ($1)",
          "ultimate": "Ultimate patreon ($5)"
        },
        "default": "free"
      },
      "buttons": {
        "title": "Crate buttons",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "server": {
              "title": "Discord server ID",
              "default": "299881420891881473",
              "type": "string"
            },
            "channel": {
              "title": "Discord channel ID",
              "default": "355719584830980096",
              "type": "string"
            },
            "position": {
              "title": "Position",
              "type": "string",
              "enum": ["topLeft", "topRight", "bottomLeft", "bottomRight"],
              "enumNames": {
                "topLeft": "Top left",
                "topRight": "Top right",
                "bottomLeft": "Bottom left",
                "bottomRight": "Bottom right"
              },
              "default": "bottomRight"
            },
            "colors": {
              "type": "object",
              "title": "Colors",
              "properties": {
                "toggle": {
                  "default": "#7289DA",
                  "format": "color",
                  "title": "Toggle button",
                  "type": "string"
                },
                "button": {
                  "showIf": {
                    "tier": {
                      "op": "!=",
                      "value": "free"
                    }
                  },
                  "default": "#607CDA",
                  "format": "color",
                  "title": "Widget button",
                  "type": "string"
                },
                "background": {
                  "showIf": {
                    "tier": {
                      "op": "!=",
                      "value": "free"
                    }
                  },
                  "default": "#36393E",
                  "format": "color",
                  "title": "Widget background",
                  "type": "string"
                }
              }
            },
            "showCustomization": {
              "type": "boolean",
              "title": "More customization options",
              "default": false
            },
            "customization": {
              "showIf": {
                "buttons[].showCustomization": true
              },
              "type": "object",
              "title": "Customization options",
              "properties": {
                "image": {
                  "title": "Custom toggle icon",
                  "type": "string",
                  "format": "image"
                },
                "style": {
                  "title": "Toggle style",
                  "type": "string",
                  "enum": ["default", "material"],
                  "enumNames": {
                    "default": "Default",
                    "material": "Material design"
                  },
                  "default": "default"
                },
                "indicator": {
                  "title": "Enable unread indicator",
                  "type": "boolean",
                  "default": true
                },
                "showToasts": {
                  "title": "Enable message toasts",
                  "type": "boolean",
                  "default": true
                },
                "toasts": {
                  "showIf": {
                    "buttons[].customization.showToasts": true
                  },
                  "type": "object",
                  "title": "Toast options",
                  "properties": {
                    "maxMessages": {
                      "title": "Max. messages to display",
                      "type": "number",
                      "default": 5
                    },
                    "visibilityTime": {
                      "title": "Visibility time (seconds)",
                      "type": "number",
                      "default": 10
                    }
                  }
                }
              }
            },
            "showAdvanced": {
              "type": "boolean",
              "title": "Show advanced options",
              "default": false
            },
            "advanced": {
              "showIf": {
                "buttons[].showAdvanced": true
              },
              "type": "object",
              "title": "Advanced options",
              "properties": {
                "delay": {
                  "default": false,
                  "type": "boolean",
                  "title": "Delay until interaction",
                  "description": "Only load the WidgetBot embed when the user toggles it open"
                },
                "beta": {
                  "default": false,
                  "type": "boolean",
                  "title": "WidgetBot BETA",
                  "description": "See https://beta.widgetbot.io"
                }
              }
            }
          }
        }
      }
    }
  }
}